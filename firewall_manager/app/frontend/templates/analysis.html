<div class="container is-fluid">
  <h1 class="title is-5 mb-4">정책 분석</h1>

  <!-- 장비 선택 및 분석 설정 -->
  <div class="box mb-4">
    <div class="columns is-vcentered">
      <div class="column is-4">
        <div class="field">
          <label class="label">장비</label>
          <div class="control">
            <select id="analysis-device-select"></select>
          </div>
        </div>
      </div>
      <div class="column is-3">
        <div class="field">
          <label class="label">분석 종류</label>
          <div class="control">
            <div class="select is-fullwidth">
              <select id="analysis-type-select">
                <option value="redundancy">중복 정책 분석</option>
                <option value="unused">미사용 정책 분석</option>
                <option value="unreferenced_objects">미참조 객체 분석</option>
                <option value="impact">정책 위치 이동 영향도 분석</option>
                <option value="risky_ports">위험 포트 분석</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="column is-2" id="analysis-params-column" style="display: none;">
        <div class="field">
          <label class="label" id="analysis-params-label">파라미터</label>
          <div class="control">
            <input class="input is-small" type="number" id="analysis-params-input" placeholder="90" min="1" value="90">
          </div>
        </div>
      </div>
      <div class="column">
        <div class="field">
          <label class="label">&nbsp;</label>
          <div class="control">
            <button class="button is-primary is-small" id="btn-start-analysis">분석하기</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 영향도 분석 전용 설정 박스 -->
  <div class="box mb-4" id="impact-analysis-ui" style="display: none;">
    <h2 class="title is-6 mb-4">정책 이동 설정</h2>
    <div class="columns">
      <div class="column is-4">
        <div class="field">
          <label class="label">대상 정책</label>
          <div class="control">
            <select id="impact-target-policy-select"></select>
          </div>
        </div>
      </div>
      <div class="column is-3">
        <div class="field">
          <label class="label">이동 방향</label>
          <div class="control">
            <div class="select is-fullwidth">
              <select id="impact-move-direction">
                <option value="above">위로 이동</option>
                <option value="below">아래로 이동</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="column is-4">
        <div class="field">
          <label class="label">목적지 정책</label>
          <div class="control">
            <select id="impact-destination-policy-select"></select>
          </div>
        </div>
      </div>
      <div class="column is-1">
        <div class="field">
          <label class="label">&nbsp;</label>
          <div class="control">
            <button class="button is-primary is-small is-fullwidth" id="btn-start-impact-analysis">분석하기</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 분석 결과 그리드 -->
  <div class="box">
    <!-- 그리드 툴바 -->
    <div class="level is-mobile mb-4">
      <div class="level-left">
        <div class="level-item">
          <!-- 왼쪽은 비워둠 (필요시 추가 가능) -->
        </div>
      </div>
      <div class="level-right">
        <div class="level-item">
          <div class="buttons">
            <button class="button is-light is-small" id="btn-reset-filters" style="display: none;">
              필터 초기화
            </button>
            <button class="button is-info is-small" id="btn-generate-script" style="display: none;">
              생성 스크립트 다운로드
            </button>
            <button class="button is-success is-small" id="btn-export-excel" style="display: none;">
              엑셀 내보내기
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 메시지 컨테이너 -->
    <div id="analysis-message-container"></div>
    <!-- 그리드 -->
    <div id="analysis-result-grid" class="ag-theme-quartz"></div>
  </div>
</div>
